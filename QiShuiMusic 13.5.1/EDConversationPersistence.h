@interface EDConversationPersistence : NSObject
@property (nonatomic) EDPersistenceDatabase database;
@property (nonatomic) EDUbiquitousConversationManager conversationManager;
@property (nonatomic) EDPersistenceHookRegistry hookRegistry;
@property (nonatomic) NSObject<OS_dispatch_queue> notificationQueue;
@property (nonatomic) BOOL hasSubscribedConversations;
@property (nonatomic) Q hash;
@property (nonatomic) # superclass;
@property (nonatomic) NSString description;
@property (nonatomic) NSString debugDescription;
- (long long)createConversationWithFlags:;
- (id)syncedConversationIDsBySyncKey;
- (unsigned long long)persistenceConversationFlagsForConversationID:;
- (void)setPersistenceConversationFlags:forConversationIDs:reason:;
- (void)updateConversationNotificationLevel:forConversationIDs:;
- (BOOL)hasSubscribedConversations;
- (void)clearConversationFlagsAndSyncKeyForConversationIDs:;
- (long long)previousSyncAnchorForDailyExport;
- (void)markConversationWithIDs:notify:;
- (long long)conversationIDForMessageIDs:;
- (void)updateAssociationTableForMessageID:dateSent:conversationID:;
- (id)notificationQueue;
- (id)messageIDsForConversationID:limit:;
- (void)setNotificationQueue:;
- (void)setPersistenceConversationFlags:syncKey:forConversationID:reason:;
- (void)initializeConversationManagerAndPerformInitialSync;
- (void)remoteMessageIDsAdded:forConversationID:;
- (id)initWithDatabase:hookRegistry:;
- (void)_postChangeNotificationForConversationID:flags:oldFlags:reason:;
- (void).cxx_destruct;
- (id)hookRegistry;
- (void)markConversationWithIDs:mute:;
- (void)updateAssociationTableForMessageIDs:conversationID:;
- (id)database;
- (id)conversationManager;
- (void)pruneConversationTables:;
- (void)setNewPreviousSyncAnchorForDailyExport:;
- (long long)currentSyncAnchorForDailyExport;
- (void)updateAssociationTableForMessagePersistentIDs:conversationID:;
- (id)flaggedConversationsChangedBetweenStartAnchor:endAnchor:;
- (void)_notifyOfFlagChangeForConversationID:oldFlags:newFlags:reason:generationWindow:;
+ (id)log;
+ (id)tablesAndForeignKeysToResolve:associationsToResolve:;
+ (id)conversationsTableName;
+ (id)conversationsTableSchema;
+ (id)conversationIDMessageIDTableSchema;
+ (long long)conversationNotificationLevelForConversationFlags:;
+ (unsigned long long)conversationFlagsForConversationNotificationLevel:;
@end

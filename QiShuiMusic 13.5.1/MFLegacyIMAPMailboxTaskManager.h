@interface MFLegacyIMAPMailboxTaskManager : NSObject
@property (nonatomic) MFMailboxUid mailbox;
@property (nonatomic) NSString mailboxName;
@property (nonatomic) BOOL shouldUseIDLE;
@property (nonatomic) EFCancelationToken cancelationToken;
@property (nonatomic) IMAPAccount account;
@property (nonatomic) Q hash;
@property (nonatomic) # superclass;
@property (nonatomic) NSString description;
@property (nonatomic) NSString debugDescription;
@property (nonatomic) MFMailMessageLibrary library;
@property (nonatomic) BOOL canFetchMessageIDs;
@property (nonatomic) BOOL canFetchSearchResults;
- (id)account;
- (void)compact;
- (BOOL)canFetchMessageIDs;
- (id)fetchDataForMessage:didDownload:;
- (BOOL)_selectMailbox:withConnection:;
- (id)messageIdRollCall:;
- (void)deleteMessagesOlderThanNumberOfDays:compact:;
- (id)flagsForIMAPUIDs:mailboxURL:;
- (id)messageDataForMessage:;
- (BOOL)shouldUseIDLE;
- (void)dealloc;
- (id)deletedMessages;
- (void)_fetchMessagesMatchingCriterion:limit:withOptions:handler:;
- (id)sequenceIdentifierForUIDs:;
- (void)willRemoveDelegation:;
- (id)mailboxName;
- (unsigned long long)syncMessagesWithUIDs:connection:serverMessages:flagSearchResults:;
- (BOOL)errorIsIMAPError:;
- (void)setShouldUseIDLE:;
- (void)setLibrary:;
- (void)_updateServerUnreadCount:;
- (id)offlineCache;
- (void)updateServerUnreadCountClosingConnection:;
- (void)close;
- (void)reselectMailbox;
- (id)_newSearchResponseQueueForConnection:limit:;
- (BOOL)connection:shouldHandleUntaggedResponse:forCommand:;
- (BOOL)shouldStartIdleForConnection:;
- (id)_downloadForMessageBodyData:usingDownloadCache:;
- (void)_fetchServerUnreadCountWithConnection:;
- (id)_performBodyDataDownload:usingConnection:downloadCache:isPartial:;
- (BOOL)canFetchSearchResults;
- (BOOL)checkUIDValidity:mailboxURL:;
- (void)setServerMessageCount:;
- (id)fetchHeadersForMessage:;
- (void)growFetchWindow;
- (void)updateDeletedCount;
- (id)_searchFlagsForUIDs:usingConnection:;
- (id)library;
- (id)initWithMailbox:;
- (id)cancelationToken;
- (void)connection:didReceiveResponse:forCommand:;
- (id)_remoteBodySearchForCriterion:;
- (void).cxx_destruct;
- (id)_fetchFullMessageDataForMessage:download:;
- (BOOL)moveSupportedFromMailboxURL:toURL:;
- (id)offlineCacheIfOffline;
- (unsigned long long)_fetchMessagesWithArguments:idRange:onConnection:synchronize:limit:topUIDToCompact:topKnownUID:success:examinedRange:fetchableUIDsFound:preserveUID:numFetchedUIDs:;
- (unsigned long long)serverMessageCount;
- (void)updateDeletedCountWithNotDeletedCount:;
- (void)_performActionsOnConnection:uidsToFetch:uidsToSync:messagesToCompact:serverMessages:flagSearchResults:shouldForce:newUIDsToFetch:;
- (void)handleFlagsChangedForMessages:flags:oldFlagsByMessage:;
- (id)fetchDataForMessage:partial:;
- (unsigned long long)_fetchMessagesWithUIDs:connection:newCount:flagsToSet:queueClass:;
- (BOOL)fetchDataForMimePart:range:isComplete:consumer:;
- (void)_scheduleIdleTransition:;
- (void)setCancelationToken:;
- (BOOL)performOperationRequiringConnection:withOptions:failedToSelectMailbox:operation:;
- (id)_idleConditionsObservable;
- (id)mailbox;
- (BOOL)_shouldContinueToPreservedUID:;
- (long long)fetchNumMessages:preservingUID:options:;
- (BOOL)_waitForDataFromDownload:uid:downloadCache:connection:;
- (long long)fetchMessagesWithMessageIDs:andSetFlags:;
- (id)storeSearchResultMatchingCriterion:limit:offset:error:;
- (id)messageDataForRemoteID:mailboxURL:;
- (id)replayAction:;
- (void)setHighestModSequence:;
- (id)_observeChangesInIdleConditions;
- (void)setSequenceIdentifier:forUIDs:;
- (id)imapMailboxNameForMailboxURL:;
+ (id)log;
@end

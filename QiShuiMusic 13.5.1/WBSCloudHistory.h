@interface WBSCloudHistory : NSObject
@property (nonatomic) Q numberOfDevicesInSyncCircle;
@property (nonatomic) BOOL cloudHistoryEnabled;
@property (nonatomic) BOOL removedHistoryItemsArePendingSave;
@property (nonatomic) Q hash;
@property (nonatomic) # superclass;
@property (nonatomic) NSString description;
@property (nonatomic) NSString debugDescription;
- (id)_manateeErrorCode:;
- (void)dealloc;
- (void)saveChangesBypassingThrottler:completionHandler:;
- (id)initWithDatabase:configuration:completionBlock:;
- (void)_setServerChangeToken:;
- (void)updateConfiguration:completionHandler:;
- (long long)_estimatedPriorityForPotentialSaveAttempt;
- (void)_transitionCloudHistoryStoreToManateeState:completion:;
- (long long)_resultFromError:;
- (void)_fetchChangesWhenHistoryLoads;
- (void)resetForAccountChange;
- (void)_callAndResetSaveCompletionHandlerWithError:;
- (id)_currentFetchChangesThrottlerPolicyString;
- (void)_updateDeviceCountInResponseToPushNotification;
- (void)_persistLongLivedSaveOperationDictionaryWithOperationID:databaseGeneration:;
- (id)recordOfPastOperationsForThrottler:;
- (void)_saveVisits:tombstones:toCloudHistoryBypassingThrottler:longLivedOperationPersistenceCompletion:withCallback:;
- (void)_handleManateeErrorIfNeeded:;
- (void)getVisitsAndTombstonesNeedingSyncWithVisitSyncWindow:completion:;
- (void)_processPendingPushNotifications;
- (void)_persistedLongLivedSaveOperationID:databaseGeneration:;
- (BOOL)removedHistoryItemsArePendingSave;
- (void)_pcsIdentitiesChangedNotification:;
- (void)_resetForAccountChangeWithCompletionHandler:;
- (void)_serverBackoffTimerFired:;
- (void)_pushNotificationsAreInitializedWithCompletionHandler:;
- (void)_postSaveChangesAttemptCompletedNotificationWithAllPendingDataSaved:;
- (void)fetchAndMergeChanges;
- (void)_performBlockAsynchronouslyOnCloudHistoryQueueAfterHistoryHasLoaded:;
- (void)_determineCloudHistoryStoreWithCompletion:;
- (void)saveChangesToCloudHistoryStore;
- (void)fetchAndMergeChangesBypassingThrottler;
- (long long)_priorityForSaveWithVisits:tombstones:bypassingThrottler:;
- (void)_getServerChangeTokenDataWithCompletion:;
- (void)_pushNotificationReceived:;
- (void)_updateThrottlerPolicies;
- (BOOL)isCloudHistoryEnabled;
- (void)_replayPersistedLongLivedSaveOperationIfNecessary;
- (void)_setPushNotificationAreInitialized:;
- (void)_fetchChangesInResponseToPushNotification:;
- (id)initWithDatabase:configuration:;
- (void)_registerFetchCompletionHandler:;
- (void)_updateHistoryAfterSuccessfulPersistedLongLivedSaveOperationWithGeneration:completion:;
- (void).cxx_destruct;
- (void)_resetCloudHistoryDataWithCompletionHandler:;
- (unsigned long long)numberOfDevicesInSyncCircle;
- (void)_saveChangesWhenHistoryLoads;
- (void)resetForAccountChangeWithCompletionHandler:;
- (id)_currentSyncCircleSizeRetrievalThrottlerPolicyString;
- (void)_registerForHistoryWasLoadedNotificationIfNecessary;
- (void)setCloudHistoryEnabled:;
- (void)_pruneTombstonesThatCanNoLongerMatchVisitsFetchedFromCloud;
- (double)_backoffTimeIntervalFromError:;
- (void)_fetchAndMergeChangesWithServerChangeTokenData:withPriority:;
- (void)setRemovedHistoryItemsArePendingSave:;
- (void)_registerSaveCompletionHandler:;
- (void)fetchDateOfNextPermittedSaveChangesAttemptWithCompletionHandler:;
- (void)fetchAndMergeChangesBypassingThrottler:completionHandler:;
- (void)setNumberOfDevicesInSyncCircle:;
- (void)_callAndResetFetchCompletionHandlerWithError:;
- (void)setRecordOfPastOperations:forThrottler:;
- (id)dateOfNextPermittedSaveChangesAttempt;
- (void)saveChangesToCloudHistoryStoreBypassingThrottler;
- (void)_setCachedNumberOfDevicesInSyncCircle:;
- (void)_backOffWithInterval:;
- (void)_deleteAllCloudHistoryAndSaveAgain;
- (void)_removePersistedLongLivedSaveOperationDictionary;
- (id)_currentSaveChangesThrottlerPolicyString;
- (void)_initializePushNotificationSupport;
- (unsigned long long)_cachedNumberOfDevicesInSyncCircle;
- (void)_cloudHistoryConfigurationChanged:;
- (id).cxx_construct;
- (void)_determineNumberOfDevicesInSyncCircleForOperation:completionHandler:;
@end

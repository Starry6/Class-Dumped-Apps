@interface EDInMemoryThreadQueryHandler : EDMessageRepositoryQueryHandler
@property (nonatomic) EDVIPManager vipManager;
@property (nonatomic) <EDRemoteSearchProvider> remoteSearchProvider;
@property (nonatomic) <EMMessageListItemQueryResultsObserver> resultsObserverIfNotPaused;
@property (nonatomic) EDMessageQueryHelper messageQueryHelper;
@property (nonatomic) NSArray messageSortDescriptors;
@property (nonatomic) @? comparator;
@property (nonatomic) EDUpdateThrottler updateThrottler;
@property (nonatomic) EDThreadReloadSummaryHelper reloadSummaryHelper;
@property (nonatomic) <EFScheduler> scheduler;
@property (nonatomic) NSObject<OS_dispatch_queue> contentProtectionQueue;
@property (nonatomic) NSObject<OS_dispatch_queue> resultQueue;
@property (nonatomic) BOOL didCancel;
@property (nonatomic) BOOL isInitialized;
@property (nonatomic) BOOL isPaused;
@property (nonatomic) BOOL hasChangesWhilePaused;
@property (nonatomic) EMMailboxScope mailboxScope;
@property (nonatomic) EMCollectionItemIDStateCapturer stateCapturer;
@property (nonatomic) Q hash;
@property (nonatomic) # superclass;
@property (nonatomic) NSString description;
@property (nonatomic) NSString debugDescription;
- (BOOL)didCancel;
- (BOOL)isInitialized;
- (id)mailboxScope;
- (void)cancel;
- (id)labelForStateCapture;
- (void)dealloc;
- (id)resultQueue;
- (BOOL)start;
- (id)vipManager;
- (id)scheduler;
- (BOOL)isPaused;
- (void)tearDown;
- (void)contentProtectionStateChanged:previousState:;
- (id)comparator;
- (void).cxx_destruct;
- (void)_vipsDidChange:;
- (id)contentProtectionQueue;
- (void)setIsPaused:;
- (id)remoteSearchProvider;
- (void)test_tearDown;
- (void)_blockedSendersDidChange:;
- (void)setDidCancel:;
- (id)itemIDsForStateCaptureWithErrorString:;
- (id)stateCapturer;
- (void)queryHelper:didFindMessages:;
- (void)queryHelperDidFindAllMessages:;
- (void)queryHelper:didAddMessages:;
- (void)queryHelper:messageFlagsDidChangeForMessages:;
- (void)queryHelper:conversationIDDidChangeForMessages:fromConversationID:;
- (void)queryHelper:conversationNotificationLevelDidChangeForConversation:conversationID:;
- (void)queryHelper:objectIDDidChangeForMessage:oldObjectID:oldConversationID:;
- (void)queryHelper:didUpdateMessages:forKeyPaths:;
- (void)queryHelper:didDeleteMessages:;
- (void)queryHelperDidFinishRemoteSearch:;
- (void)queryHelperNeedsRestart:;
- (void)_messagesWereAdded:;
- (void)_messagesWereChanged:forKeyPaths:deleted:;
- (BOOL)_queryHelperIsCurrent:;
- (id)messageQueryHelper;
- (void)setMessageQueryHelper:;
- (id)initWithQuery:messagePersistence:hookRegistry:remindMeNotificationController:vipManager:remoteSearchProvider:observer:observationIdentifier:observationResumer:;
- (id)resultsObserverIfNotPaused;
- (void)_prepareToSendUpdates;
- (void)_didSendUpdates;
- (void)_refreshObserver;
- (void)_restartHelper;
- (void)_createHelperAndReconcileJournal:;
- (void)_contentProtectionChangedToLocked;
- (void)_contentProtectionChangedToUnlocked;
- (id)threadForObjectID:error:;
- (id)messagesForThread:;
- (id)_messagesByConversationIDForMessages:;
- (BOOL)_mergeInThreads:forMove:;
- (BOOL)_reportChanges:;
- (BOOL)_reportDeletes:;
- (BOOL)_removeThreadsForInMemoryThreads:forMove:;
- (void)_initializeOldestThreadsByMailbox;
- (BOOL)_updateCurrentOldestThreadWithThreadIfApplicable:forMailbox:;
- (BOOL)_didMergeInThreads:;
- (BOOL)_threadsWereDeleted;
- (BOOL)_updateOldestThreadsForMailboxes:;
- (void)_notifyObserverOfOldestThreadsByMailboxObjectIDs;
- (id)_messageQueryFromThreadsQuery:;
- (id)_inMemoryThreadSortDescriptorsForThreadSortDescriptors:;
- (BOOL)_messageListItemChangeAffectsSorting:;
- (void)logThreadObjectIDsWithMessage:objectIDs:;
- (void)logThreadObjectIDsChangesWithMessage:newObjectIDs:beforeExistingObjectID:;
- (id)messageSortDescriptors;
- (id)updateThrottler;
- (id)reloadSummaryHelper;
- (void)setIsInitialized:;
- (BOOL)hasChangesWhilePaused;
- (void)setHasChangesWhilePaused:;
+ (id)log;
@end

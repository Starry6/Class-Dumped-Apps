@interface EDMessageQueryHandler : EDMessageRepositoryQueryHandler
@property (nonatomic) <EDRemoteSearchProvider> remoteSearchProvider;
@property (nonatomic) EDMessageQueryHelper currentQueryHelper;
@property (nonatomic) <EFScheduler> scheduler;
@property (nonatomic) NSObject<OS_dispatch_queue> contentProtectionQueue;
@property (nonatomic) NSObject<OS_dispatch_queue> resultQueue;
@property (nonatomic) BOOL didCancel;
@property (nonatomic) BOOL isInitialized;
@property (nonatomic) NSMutableDictionary oldestMessageIDsByMailboxObjectIDs;
@property (nonatomic) EMCollectionItemIDStateCapturer stateCapturer;
@property (nonatomic) Q hash;
@property (nonatomic) # superclass;
@property (nonatomic) NSString description;
@property (nonatomic) NSString debugDescription;
- (BOOL)didCancel;
- (BOOL)isInitialized;
- (void)cancel;
- (id)labelForStateCapture;
- (void)dealloc;
- (id)resultQueue;
- (BOOL)start;
- (id)scheduler;
- (void)contentProtectionStateChanged:previousState:;
- (void).cxx_destruct;
- (id)contentProtectionQueue;
- (id)remoteSearchProvider;
- (void)setDidCancel:;
- (id)itemIDsForStateCaptureWithErrorString:;
- (id)stateCapturer;
- (void)queryHelper:didFindMessages:;
- (void)queryHelperDidFindAllMessages:;
- (void)queryHelper:didAddMessages:;
- (void)queryHelper:messageFlagsDidChangeForMessages:;
- (void)queryHelper:conversationIDDidChangeForMessages:fromConversationID:;
- (void)queryHelper:conversationNotificationLevelDidChangeForConversation:conversationID:;
- (void)queryHelper:objectIDDidChangeForMessage:oldObjectID:oldConversationID:;
- (void)queryHelper:didUpdateMessages:forKeyPaths:;
- (void)queryHelper:didDeleteMessages:;
- (void)queryHelperDidFinishRemoteSearch:;
- (void)queryHelperNeedsRestart:;
- (BOOL)_queryHelperIsCurrent:;
- (void)_restartHelper;
- (void)_createHelperAndReconcileJournal:;
- (void)_contentProtectionChangedToLocked;
- (void)_contentProtectionChangedToUnlocked;
- (void)setIsInitialized:;
- (id)initWithQuery:messagePersistence:hookRegistry:remindMeNotificationController:remoteSearchProvider:observer:observationIdentifier:;
- (id)_objectIDsAndUnreadObjectIDsFromMessages:unreadObjectIDs:;
- (id)_createChangesForMessagesWithConversationID:block:;
- (void)_initializeOldestMessagesByMailbox;
- (void)_oldestMessagesNeedUpdate;
- (void)_updateOldestMessagesForMailboxes:cancelationToken:;
- (id)_oldestItemQueryForMailbox:;
- (void)_oldestMessagesByMailboxObjectIDsWasUpdated;
- (id)findMessagesByPreviousObjectIDForAddedMessages:helper:;
- (id)currentQueryHelper;
- (void)setCurrentQueryHelper:;
- (id)oldestMessageIDsByMailboxObjectIDs;
+ (id)log;
+ (id)findMessagesByPreviousObjectIDForAddedMessages:messageSource:;
@end

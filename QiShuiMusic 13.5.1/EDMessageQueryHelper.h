@interface EDMessageQueryHelper : NSObject
@property (nonatomic) EDMessagePersistence messagePersistence;
@property (nonatomic) EDPersistenceHookRegistry hookRegistry;
@property (nonatomic) <EDRemoteSearchProvider> remoteSearchProvider;
@property (nonatomic) EDRemindMeNotificationController remindMeNotificationController;
@property (nonatomic) <EFScheduler> scheduler;
@property (nonatomic) <EDMessageQueryHelperDelegate> delegate;
@property (nonatomic) EDMessageQueryEvaluator queryEvaluator;
@property (nonatomic) EFCancelationToken cancelationToken;
@property (nonatomic) BOOL shouldReconcileJournal;
@property (nonatomic) BOOL keepMessagesInListOnBucketChange;
@property (nonatomic) BOOL updateDisplayDate;
@property (nonatomic) NSPredicate ignoreMessagesPredicate;
@property (nonatomic) BOOL addMessagesSynchronously;
@property (nonatomic) NSString pendingFlagChangesKey;
@property (nonatomic) NSString pendingConversationIDChangesKey;
@property (nonatomic) NSString pendingJournaledMessageAddsKey;
@property (nonatomic) NSString pendingSenderBucketChangesKey;
@property (nonatomic) NSString pendingReadLaterDateChangesKey;
@property (nonatomic) NSString pendingDisplayDateChangesKey;
@property (nonatomic) EFQuery query;
@property (nonatomic) Q hash;
@property (nonatomic) # superclass;
@property (nonatomic) NSString description;
@property (nonatomic) NSString debugDescription;
- (void)persistenceIsChangingConversationID:messages:generationWindow:;
- (void)cancel;
- (void)dealloc;
- (void)persistenceDidAddAddresses:toSender:generation:;
- (void)persistenceWillChangeFlags:messages:;
- (void)start;
- (id)scheduler;
- (void)persistenceDidDeleteAllMessagesInMailboxesWithURLs:generationWindow:;
- (id)query;
- (void)persistenceDidAddMessages:generationWindow:;
- (void)persistenceDidChangeGlobalMessageID:orConversationID:message:generationWindow:;
- (void)persistenceDidRemoveAddresses:fromSender:generation:;
- (void)persistenceIsAddingMessages:journaled:generationWindow:;
- (void)persistenceDidChangeReadLaterDate:messages:changeIsRemote:generationWindow:;
- (void)persistenceDidChangeFlags:messages:generationWindow:;
- (void)persistenceDidDeleteMessages:generationWindow:;
- (id)delegate;
- (void)persistenceDidUpdateDisplayDateForMessages:changeIsRemote:generation:;
- (id)cancelationToken;
- (void).cxx_destruct;
- (id)hookRegistry;
- (id)remindMeNotificationController;
- (void)persistenceDidUpdateProperties:message:generationWindow:;
- (void)setCancelationToken:;
- (id)remoteSearchProvider;
- (id)messagePersistence;
- (void)persistenceDidReconcileJournaledMessages:generationWindow:;
- (void)persistenceWillChangeReadLaterDate:messages:;
- (void)persistenceWillUpdateDisplayDateForMessages:;
- (void)persistenceDidChangeConversationNotificationLevel:conversationID:generationWindow:;
- (void)persistenceWillChangeConversationID:messages:;
- (BOOL)updateDisplayDate;
- (BOOL)keepMessagesInListOnBucketChange;
- (void)setKeepMessagesInListOnBucketChange:;
- (void)controller:messageTimerFired:;
- (void)remoteSearchDidFindMessages:;
- (void)remoteSearchDidFinish;
- (void)persistenceWillChangeSenderBucketForAddresses:toBucket:;
- (void)persistenceWillChangeSenderBucketForSender:toBucket:;
- (void)persistenceDidChangeSenderBucketForSender:toBucket:generation:;
- (void)persistenceWillAddAddresses:toSender:;
- (void)persistenceWillRemoveAddresses:fromSender:;
- (id)messagesWithAdditionalPredicates:limit:;
- (id)initWithQuery:messagePersistence:hookRegistry:remoteSearchProvider:scheduler:remindMeNotificationController:delegate:shouldReconcileJournal:shouldAddMessagesSynchronously:keepMessagesInListOnBucketChange:;
- (void)_updateDisplayDateForMessagesIfNeeded;
- (void)_getInitialResults;
- (void)_foundMessages:;
- (void)_persistenceDidDeleteMessages:includeMessagesWithDeletedFlag:;
- (void)_prepareForSenderBucketChangeForThreadsWithSenderAddresses:;
- (void)_reportSenderBucketChangeForThreadsWithSenderAddresses:;
- (void)_reportChangesForPersistedMessages:withPendingChangesKey:keyPaths:;
- (void)_reportChangesForCurrentlyMatchingMessages:previouslyMatchingMessages:keyPaths:;
- (id)_persistedMessagesFromSendersWithAddresses:;
- (void)_calculateAndReportChangesForPersistedMessages:withPendingChangesKey:changeBlock:;
- (id)_transformAndFilterMessages:includeDeleted:removeIgnoredMessages:;
- (id)queryEvaluator;
- (void)setQueryEvaluator:;
- (BOOL)shouldReconcileJournal;
- (void)setShouldReconcileJournal:;
- (id)ignoreMessagesPredicate;
- (void)setIgnoreMessagesPredicate:;
- (BOOL)addMessagesSynchronously;
- (void)setAddMessagesSynchronously:;
- (id)pendingFlagChangesKey;
- (id)pendingConversationIDChangesKey;
- (id)pendingJournaledMessageAddsKey;
- (id)pendingSenderBucketChangesKey;
- (id)pendingReadLaterDateChangesKey;
- (id)pendingDisplayDateChangesKey;
+ (id)log;
@end

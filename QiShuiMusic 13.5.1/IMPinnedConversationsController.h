@interface IMPinnedConversationsController : NSObject
@property (nonatomic) BOOL hasCompletedInitialization;
@property (nonatomic) BOOL hasDefferedPinnedConversationsDidChangeNotification;
@property (nonatomic) q numberOfPendingForceSyncs;
@property (nonatomic) NSUbiquitousKeyValueStore dataStore;
@property (nonatomic) NSOrderedSet pinnedConversationIdentifierSet;
@property (nonatomic) NSDictionary chatMetadata;
- (void)setDataStore:;
- (id)dataStore;
- (id)init;
- (BOOL)shouldSync;
- (void).cxx_destruct;
- (id)matchingIdentifierForChat:;
- (void)setPinnedChats:withUpdateReason:;
- (void)conversationsWereDeletedWithIdentifiers:;
- (id)pinnedConversationIdentifiers;
- (void)imCloudKitHooksSetEnabledDidReturn:;
- (void)_handleChatGroupIDDidChangeNotification:;
- (void)handleNSUbiquitousKeyValueStoreDidChangeExternallyNotification:;
- (id)_dictionaryWithPinnedConversationIdentifiers:chatMetadata:updateReason:timestamp:;
- (id)dictionaryWithPinnedConversationIdentifiers:chatMetadata:updateReason:;
- (id)_metadataDictionaryForChat:;
- (id)mostUpToDatePinConfigurationByComparingPinConfiguration:toOtherPinConfiguration:;
- (void)_setPinnedConversationIdentifiers:withChatMetadata:updateReason:shouldUpdateStores:;
- (void)_postDeferredPinnedConversationsDidChangeNotificationIfNecessary;
- (void)_postPinnedConversationsDidChangeNotification;
- (void)conversationWasDeletedWithIdentifier:;
- (BOOL)pinnedConversationsContainsChat:;
- (id)matchingIdentifierForChat:inIdentifierSet:withMetadata:;
- (unsigned long long)pinIndexForChat:inIdentifierSet:withMetadata:;
- (void)performPinConfigValidationAndMigrationIfNecessary;
- (id)validatedPinConfigurationWithCurrentVersionForPinConfiguration:;
- (void)synchronizeLocalDataStore;
- (void)forceSynchronizeUbiquitousStore;
- (void)updateStoresWithPinConfiguration:;
- (void)_updateUbiquitousStoreWithPinConfiguration:completion:;
- (BOOL)_updateLocalStoreWithPinConfiguration:;
- (BOOL)shouldWriteProposedPinConfiguration:toUbiquitousStoreWithExistingPinConfiguration:;
- (BOOL)pinConfigurationHasCompatibleVersion:;
- (BOOL)pinConfigurationIsValid:;
- (BOOL)pinConfigurationHasCurrentVersion:;
- (BOOL)shouldUpdateExistingPinConfig:withProposedPinConfig:;
- (void)fetchPinnedConversationIdentifiersFromLocalStore;
- (void)_fetchUbiquitousPinConfiguration:;
- (void)fetchMostUpToDatePinConfiguration:;
- (id)_locallyStoredPinConfiguration;
- (id)_ubiquitousPinConfigurationInStore:;
- (id)pinnedConversationIdentifiersFromPinConfiguration:;
- (id)chatMetadataFromPinConfiguration:;
- (BOOL)hasCompletedInitialization;
- (void)setHasCompletedInitialization:;
- (BOOL)hasDefferedPinnedConversationsDidChangeNotification;
- (void)setHasDefferedPinnedConversationsDidChangeNotification:;
- (long long)numberOfPendingForceSyncs;
- (void)setNumberOfPendingForceSyncs:;
- (id)pinnedConversationIdentifierSet;
- (void)setPinnedConversationIdentifierSet:;
- (id)chatMetadata;
- (void)setChatMetadata:;
+ (id)sharedInstance;
+ (id)requiredKeys;
+ (BOOL)processSupportsPinnedConversations;
+ (unsigned long long)maximumNumberOfPinnedConversations;
+ (id)pinConfigurationMigrationKey;
+ (long long)currentPinConfigurationVersion;
+ (long long)currentPinConfigurationRevision;
+ (id)_ubiquitousDispatchQueue;
+ (id)_forceSyncDispatchQueue;
@end

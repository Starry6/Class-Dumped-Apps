@interface PLSearchIndexManager : NSObject
@property (nonatomic) BOOL _indexing;
@property (nonatomic) @? _inqAfterIndexingDidIterate;
@property (nonatomic) NSCountedSet _pauseReasons;
@property (nonatomic) PLSpotlightDonationManager spotlightDonationManager;
@property (nonatomic) q lastKnownSearchIndexVersion;
@property (nonatomic) double lastKnownElapsedIndexingTime;
@property (nonatomic) NSDate dateOfLastSearchIndexRebuild;
@property (nonatomic) PSIDatabase database;
@property (nonatomic) <PLSearchIndexManagerDatabaseConnectionDelegate> databaseConnectionDelegate;
@property (nonatomic) BOOL indexingPaused;
- (BOOL)_onQueueAsyncWithDelay:perform:;
- (id)initWithPathManager:;
- (id)databaseConnectionDelegate;
- (id)_cxindexProgressPath;
- (void)setDateOfLastSearchIndexRebuild:;
- (void)_inqCloseSearchIndexAndDelete:withCompletion:;
- (id)_updatesEnsuringMutableArraysFromUpdates:;
- (void)indexSingleAssetWithUUID:completion:;
- (void)_inqStartTrackingRebuildWithReason:;
- (void)dealloc;
- (BOOL)_inqUpdateLocale;
- (id)_pauseReasons;
- (void)_inqDropClientServerTransactionIfNeeded;
- (double)lastKnownElapsedIndexingTime;
- (id)_inqAfterIndexingDidIterate;
- (id)_inqPhotoLibrary;
- (void)_inqEndTrackingRebuildIfNeeded;
- (void)_inqEnsureSceneTaxonomyProxyExists;
- (id)_assetUUIDsToRemoveFromUUIDsToProcess:;
- (void)pauseIndexingWithReason:;
- (void)_beginObservingPhotosPreferences;
- (void)_inqEnsureSearchProgressExists;
- (id)defaultSearchMetadataStorePath;
- (id)_oldDbPath;
- (id)_inqRequestGraphDataForHighlightUUIDs:momentUUIDs:photoLibrary:singleAssetOnly:error:;
- (BOOL)isIndexingPaused;
- (void)_inqEnsurePhotoLibraryExists;
- (void)_inqAddUpdatesWithUUIDs:forKey:;
- (void)observeValueForKeyPath:ofObject:change:context:;
- (BOOL)_inqUpdateWordEmbeddingVersion:;
- (long long)_inqSpotlightRequestedRebuild;
- (BOOL)_inqUpdateSceneTaxonomySHA:;
- (id)_inqKeywordsByCategoryMaskByAssetUUIDFromAssetSearchKeywords:andAssetUUIDsBySocialGroup:;
- (void)_stopObservingPhotosPreferences;
- (id)_synonymsProcessPath;
- (void)_inqEnsureSearchSystemInfoExists;
- (id)defaultDatabasePath;
- (void)applyUpdates:completion:;
- (id)_updatesAfterConvertingPersonsToAssetsInUpdates:;
- (void)unpauseIndexingWithReason:;
- (void)_inqValidateSearchIndexWithCompletionHandler:;
- (void)_inqTakeClientServerTransactionIfNeeded;
- (long long)_inqRebuildReasonIfSearchIndexIsValid;
- (void)_inqSetIndexingPaused:reason:;
- (BOOL)_isIndexing;
- (void)_inqUpdateUUIDsToProcessWithSpotlightProgress;
- (void)_inqEnsureSearchIndexExists;
- (void)_inqEnsureSpotlightDonationManagerExists;
- (id)_inqKeywordsByCategoryMaskByAssetUUIDFromAssetUUIDsBySocialGroup:;
- (id)_featuredPersonLocalIdentifiersFromPhotosGraphData:photosGraphVersion:;
- (void)_inqResumeIndexingIfNeeded;
- (BOOL)_onQueueAsync:;
- (BOOL)_inqIsIndexingPaused;
- (id)_defaultDatabaseDirectory;
- (id)_assetUUIDsWithGraphDataInSpotlight;
- (void)setLastKnownSearchIndexVersion:;
- (id)_dbPath;
- (id)spotlightDonationManager;
- (void)_inqTrackTransitionFromUpdateScheduledToUpdatingIfAble;
- (void)enqueuedUUIDsCountWithCompletionHandler:;
- (void)setLastKnownElapsedIndexingTime:;
- (id)_updatesAfterConvertingDetectedFacesToAssetsInUpdates:;
- (BOOL)_setIndexingPaused:synchronously:reason:;
- (void)_inqIndexPhotoLibrary;
- (void).cxx_destruct;
- (void)_inqUpdateFeaturedContentForSearch:;
- (void)_setInqAfterIndexingDidIterate:;
- (void)_fetchMemoriesToIndexWithUUIDs:managedObjectContext:result:;
- (BOOL)_inqUpdateFeatureFlags;
- (void)_inqScheduleCloseIndexIfNeeded;
- (void)_inqResetSearchIndexWithReason:dropCompletion:;
- (void)_setIndexing:;
- (void)_inqEndTrackingUpdateIfNeeded;
- (long long)_inqRebuildReasonIfSearchSupportingDataIsValid;
- (void)dropSearchIndexWithCompletion:;
- (id)_collectionUUIDsToRemoveFromUUIDsToProcess:;
- (BOOL)_inqUpdateFeaturedContentAllowed:;
- (id)searchIndexManagerSignpostLog;
- (void)_preferencesDidChange;
- (id)_graphDataProcessPath;
- (void)_inqStartTrackingUpdateIfAble;
- (void)_throttleTimerFire:;
- (void)resetSearchIndexWithReason:dropCompletion:;
- (long long)lastKnownSearchIndexVersion;
- (id)database;
- (id)_dbSearchSystemInfoPath;
- (id)_searchMetadataStorePath;
- (void)ensureSearchIndexExistsWithCompletionHandler:;
- (unsigned long long)_inqEnqueuedUUIDsCountForceLoad:;
- (void)setDatabaseConnectionDelegate:;
- (id)dateOfLastSearchIndexRebuild;
- (void)invalidate;
- (void)applyGraphUpdates:supportingData:completion:;
- (BOOL)_inqUpdateSearchSystemInfo:forKey:logMessage:;
- (id)_inqKeywordsByCategoryMaskByAssetUUIDFromAssetSearchKeywords:;
- (void)_inqCloseIndexIfAbleOrForce:isDelete:;
- (BOOL)_onQueueSync:;
- (BOOL)_inqUpdateVersion;
- (BOOL)_removeFileAtPath:description:;
+ (id)fetchHighlightUUIDsToPopulateSearchIndexWithManagedObjectContext:error:;
+ (id)fetchMomentUUIDsToPopulateAssetSearchIndexWithManagedObjectContext:error:;
+ (id)fetchMemoriesWithUUIDs:managedObjectContext:error:;
+ (id)fetchAssetsWithUUIDs:managedObjectContext:error:;
+ (void)setShouldIndexFilenames:;
+ (BOOL)featuredContentAllowed;
+ (id)fetchMomentsWithUUIDs:managedObjectContext:error:;
+ (int)currentSearchIndexVersion;
+ (id)fetchAlbumsWithUUIDs:managedObjectContext:error:;
+ (id)localeForSearchIndex;
+ (id)fetchAlbumUUIDsToPopulateSearchIndexWithManagedObjectContext:error:;
+ (id)_defaultDatabaseDirectoryWithPathManager:;
+ (id)fetchMemoryUUIDsToPopulateSearchIndexWithManagedObjectContext:error:;
+ (id)fetchHighlightsWithUUIDs:managedObjectContext:error:;
+ (BOOL)shouldIndexFilenames;
+ (id)fetchAssetUUIDsToPopulateSearchIndexWithManagedObjectContext:error:;
@end

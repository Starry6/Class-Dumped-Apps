@interface VideoMattingMetal : ImageSaverRegistrator
@property (nonatomic) BOOL isBgColorLutBlack;
@property (nonatomic) float renderingDisparityUpdateRate;
@property (nonatomic) BOOL bypassShiftCleanup;
@property (nonatomic) <MTLTexture> colorSim;
@property (nonatomic) <MTLTexture> filteredBeforeSmoothDisparity;
@property (nonatomic) NSDictionary sbufMetadata;
- (void)setBgLut:;
- (void)encode420ScalingByMPSToCommandBuffer:source:destination:;
- (void)setStageLightProxyCubeData:cubeData:;
- (void)encodeOutputDisparityToCommandBuffer:inputDisparity:outputDisparity:;
- (void)encodeConfidenceMaskToCommandBuffer:inputDisparity:inputDisparityNoInvalid:outputConfidenceMask:;
- (void)encodeDiffusionMapToCommandBuffer:color:diffusionMap:;
- (id)colorSim;
- (void)prewarmGuidedFilter:device:commandBuffer:width:height:width2:height2:;
- (void)dealloc;
- (BOOL)isBgColorLutBlack;
- (void)encodeDisparityDecimateToCommandBuffer:canonicalDisparity:disparityOut:;
- (void)encodeFilterCoefficientToBuffer:inputCoeff:prevCoeff:outCoeff:inColorSim:updateRate:;
- (id)sbufMetadata;
- (void)renderStageLightWithSource:alpha:canonicalDisparity:dstColor:blackBackgroundIntensity:vignetteIntensity:isFinalStage:callbackQueue:withCallback:;
- (float)renderingDisparityUpdateRate;
- (void)renderContinuousWithSource:alpha:canonicalDisparity:disparityInFocus:focusCanonicalDisparity:fNumber:infConvolutionScale:noiseBits:disparityUpdateRate:focusThresholdHardness:cubeIntensity:usePostprocessedDisparity:dstColor:isFinalStage:properties:callbackQueue:withCallback:;
- (void)encodeCopyTextureToCommandBuffer:inTexture:outTexture:;
- (void)encodeSimpleConfidenceToCommandBuffer:disparity:outConfidence:;
- (void)encodeScaleSourceToCommandBuffer:source:targetWidth:targetHeight:;
- (void)encode420Bilinear2xDownsamplingToCommandBuffer:source:destination:;
- (void)encodeInvalidDisparityMaskToCommandBuffer:inputDisparity:outputMask:;
- (void)encode420HybridDownsamplingToCommandBuffer:source:destination:;
- (void)encodeDisparitySmoothingToCommandBuffer:disparity:;
- (void)encodeDisparityTemporalFilterToCommandBuffer:currentDisparity:previousDisparity:currConfidence:prevSmoothConfidence:colorSim:outPrevSmoothConfidence:outTemporallyFilteredDisparity:disparityFallbackToInvalid:disparityFilterUpdateRate:minimumConfidenceToKeepDisparity:maximumSimilarityToKeepDisparity:;
- (void)encodeGuidedFilterWeightToCommandBuffer:inputDisparity:inputSegmentation:useSegmentationOnly:inputForegroundDistance:outputForegroundMask:outputWeight:minDistToDeweight:unconfidentWeight:dilateForegroundMask:foregroundMaskDilationRadius:;
- (id)filteredBeforeSmoothDisparity;
- (void)encodeDisparityCleanupToCommandBuffer:prevDisparity:currDisparity:colorSim:cleanDisparity:;
- (void)alphaMattingWithPostprocessedDisparity:source:inSegmentation:alpha:staticParams:dynamicParams:usePostprocessedDisparity:isFinalStage:dilateForegroundMask:callbackQueue:callback:;
- (void)encodeBackgroundFillToCommandBuffer:inputDisparity:inputMask:outputDisparity:;
- (id)initWithStaticParams:renderingDisparityUpdateRate:renderingDisparityBlurRadius:renderingLensFocalLength_mm:useTemporalConfidence:metalContext:error:;
- (id)blurRadiusAndStdAtInfinityForFocalLength:focusCanonicalDisparity:fNumber:xResolution:useNewCoCFormula:;
- (void)setAlphaLut:gammaExponent:;
- (void)encodeUpdateConfidenceAndLastValidDisparityToCommandBuffer:disparity:prevSmoothConfidence:lastValidDisparityIn:lastValidDisparityOut:currConfidenceOut:useTemporalConfidence:;
- (void)setRenderingDisparityUpdateRate:;
- (void)downsampleWithHWScalerSource:destination:;
- (void)encodeFillBackgroundDisparityToCommandBuffer:inputDisparity:inputFacemask:outputDistanceFromKnownDisparity:outputDisparity:backgroundDisparityValue:minimumDistanceFromValidDisparity:;
- (void)setFgLut:;
- (void).cxx_destruct;
- (void)setBypassShiftCleanup:;
- (void)encodeDisparityMasksToCommandBuffer:inputDisparity:inputSegmentation:useSegmentationOnly:outputForegroundMask:outputIsForeground:disparityMin:focusDisparity:hardness:minDistToDeweight:unconfidentWeight:;
- (id)createCVBufferWithWidth:height:format:;
- (void)encodeDomainTransformToCommandBuffer:inputDiffusionMap:inputDistanceFromKnownDisparity:outputDomainTransformX:outputDomainTransformY:;
- (id)disparityPostprocessingWithCanonicalDisparity:color:postProcessedDisparity:staticParams:dynamicParams:postProcessingParams:facesArray:faceModel:isFinalStage:callbackQueue:callback:;
- (void)encodeForegroundMaskToBuffer:disparity:inSegmentation:useSegmentationOnly:weight:foregroundMask:erodedForegroundMask:disparityMin:focusDisparity:hardness:minDistToDeweight:unconfidentWeight:dilateForegroundMask:foregroundMaskDilationRadius:;
- (void)initSourceTexture:;
- (void)cropFrame:destination:rect:;
- (void)setPortraitForegroundCubeData:backgroundCubeData:;
- (BOOL)bypassShiftCleanup;
- (void)setSbufMetadata:;
- (void)encodeEdgeAwareFillToCommandBuffer:inputDisparity:inputDomainTransformX:inputDomainTransformY:outputDisparity:;
- (void)encodeColorSimToCommandBuffer:prevSource:currSource:destination:similarityScaleFactor:;
- (id)getPTTextureFromLuma:chroma:;
- (void)encodeColorSimL1ToCommandBuffer:prevSource:currSource:destination:;
- (void)encodeFillAlphaToCommandBuffer:alpha:;
- (void)setIsBgColorLutBlack:;
+ (void)saveTexture:toFilename:;
+ (void)decomposeYuvPixelBuffer:yTexture:uvTexture:device:;
@end

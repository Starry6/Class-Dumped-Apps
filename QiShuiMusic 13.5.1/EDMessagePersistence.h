@interface EDMessagePersistence : NSObject
@property (nonatomic) EDPersistenceHookRegistry hookRegistry;
@property (nonatomic) NSObject<OS_dispatch_queue> cachedMetadataIsolation;
@property (nonatomic) NSNumber cachedMetadataEstimatedRowCount;
@property (nonatomic) NSInteger cachedMetadataUpdatesSinceLastCheck;
@property (nonatomic) EDPersistenceDatabase database;
@property (nonatomic) EDMessageTransformer messageTransformer;
@property (nonatomic) EDMailboxPersistence mailboxPersistence;
@property (nonatomic) EDMessagePersistenceStatistics persistenceStatistics;
@property (nonatomic) Q hash;
@property (nonatomic) # superclass;
@property (nonatomic) NSString description;
@property (nonatomic) NSString debugDescription;
@property (nonatomic) Q signpostID;
- (BOOL)isMessageKnownToHaveNoMailDropAttachment:;
- (void)setIsMailDropAttachmentPresent:forMessage:;
- (long long)countOfMessagesWithGlobalMessageID:matchingQuery:;
- (unsigned long long)signpostID;
- (BOOL)compressFile:error:;
- (long long)globalIDForMessageWithDatabaseID:mailboxScope:;
- (void)setContentProtectionForAttachmentFile:;
- (id)groupedMessagesCountByMailboxMatchingQuery:variable:;
- (id)persistedMessageForOutgoingMessage:isDraft:;
- (id)requestContentForMessageObjectID:requestID:options:delegate:completionHandler:;
- (id)cachedDatabaseIDsDictionaryForGlobalMessageIDs:;
- (void).cxx_destruct;
- (id)requestSummaryForMessageObjectID:;
- (id)enabledAccountMailboxesExpression;
- (id)hookRegistry;
- (id)persistenceStatistics;
- (long long)countOfMessagesMatchingQuery:;
- (BOOL)compressDirectory:shouldCancel:error:;
- (id)persistedMessagesForDatabaseIDs:requireProtectedData:temporarilyUnavailableDatabaseIDs:;
- (id)database;
- (id)mailboxPersistence;
- (id)collectStatistics;
- (void)iterateMessagesMatchingQuery:batchSize:firstBatchSize:limit:cancelationToken:handler:;
- (void)iteratePersistedMessagesMatchingQuery:limit:cancelationToken:handler:;
- (id)queryWithExpandedMailboxesFromQuery:;
- (id)messageTransformer;
- (void)performDatabaseWorkInBlockWithHighPriority:;
- (id)messagesForPersistedMessages:mailboxScope:;
- (id)cachedMetadataJSONForKey:messageID:;
- (id)persistedMessagesForMessageObjectIDs:requireProtectedData:temporarilyUnavailableMessageObjectIDs:;
- (void)reconcileJournalWithCompletionBlock:;
- (void)iterateMessagesMatchingSmartSortQuery:limit:handler:;
- (void)setCachedMetadataJSON:forKey:messageID:;
- (id)completeCachedMetadataJSONForGlobalMessageID:;
- (id)messageObjectIDCriterionExpressionForPredicateValue:;
- (id)initWithMailboxPersistence:database:hookRegistry:userProfileProvider:blockedSenderManager:vipReader:;
- (void)collectStatisticsWithStatistics:;
- (id)messageObjectIDForURL:;
- (id)messageObjectIDsForSearchableItemIdentifiers:;
- (id)validMailboxesForPrediction;
- (id)databaseIDsDictionaryForMessageObjectIDs:;
- (void)performDatabaseReadBlock:;
- (id)messagesMatchingQuery:;
- (id)messagesMatchingQuery:limit:;
- (id)messagesMatchingQuery:limit:cancelationToken:;
- (id)persistedMessagesMatchingQuery:limit:;
- (id)_databaseIDsDictionaryForGlobalMessageIDs:mailboxScope:;
- (id)persistedMessagesForObjectIDs:requireProtectedData:;
- (id)_threadQueryForThreadObjectID:;
- (id)persistedMessageIDsForMessagesWithFollowUpsForConversationIDs:;
- (id)persistedMessageIDsForGlobalMessageIDs:;
- (id)messagesForMessageObjectIDs:missedMessageObjectIDs:;
- (id)_groupMessageObjectIDsByMailboxScope:;
- (id)_cachedMetadataJSONForKey:globalMessageID:;
- (void)_setCachedMetadataJSON:forKey:globalMessageID:;
- (void)_checkCachedMetadataRowLimitWithConnection:;
- (id)brandIndicatorForDatabaseID:;
- (id)brandIndicatorForURL:;
- (id)brandIndicatorsForURLs:;
- (long long)addBrandIndicatorWithData:;
- (id)undownloadedBrandIndicatorsWithLimit:;
- (void)setBrandIndicator:forURL:;
- (void)removeBrandIndicatorForURL:;
- (void)setBrandIndicatorDatabaseID:location:forMessages:;
- (id)retrieveFollowUpJsonStringForModelEvaluationForSuggestionsForMessages:;
- (void)persistFollowUp:forMessages:;
- (void)updateBeforeDisplayForMessagesMatchingQuery:;
- (void)updateBeforeDisplayForPersistedMessages:;
- (void)updateDisplayDateForPersistedMessage:displayDate:changeIsRemote:;
- (void)_checkForFollowUpExpirationWithQuery:;
- (long long)globalIDForMessageIDHash:;
- (long long)globalIDForMessageIDHeader:;
- (id)cachedMetadataIsolation;
- (id)cachedMetadataEstimatedRowCount;
- (void)setCachedMetadataEstimatedRowCount:;
- (int)cachedMetadataUpdatesSinceLastCheck;
- (void)setCachedMetadataUpdatesSinceLastCheck:;
- (void)setMessageTransformer:;
+ (id)messagesTableName;
+ (id)messageGlobalDataTableName;
+ (id)log;
+ (id)_brandIndicatorsTableSchema;
+ (id)bitExpressionForAttachments;
+ (id)partialMessagesTableSchemaAndForeignKeysToResolve:associationsToResolve:;
+ (long long)_databaseIDFromSelect:connection:;
+ (id)selectAddressesStatementWithResultColumns:;
+ (id)addressesTableName;
+ (id)messagesDateReceivedColumnName;
+ (id)_messageReferencesTableSchema;
+ (id)_protectedMessageDataTableSchema;
+ (id)_addressesTableSchema;
+ (id)signpostLog;
+ (id)messagesDisplayDateColumnName;
+ (long long)databaseIDForEmailAddress:connection:;
+ (id)messageGlobalDataTableSchema;
+ (id)allDatabaseIDsForSimpleAddresses:connection:;
+ (id)_cachedMetadataTableSchema;
+ (id)objectPropertyMapperForSchema:protectedSchema:;
+ (id)_summariesTableSchema;
+ (id)tablesAndForeignKeysToResolve:associationsToResolve:;
+ (id)bitExpressionForConversationFlag:;
+ (id)addJoinsForAddressToSelectComponent:withSourceAddressColumn:;
+ (id)_subjectsTableSchema;
+ (id)protectedTablesAndForeignKeysToResolve:;
+ (id)recipientsTableSchemaAndForeignKeysToResolve:associationsToResolve:;
@end

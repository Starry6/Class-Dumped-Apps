@interface NRDeviceCollectionHistory : NSObject
@property (nonatomic) NRMutableDeviceCollection deviceCollection;
@property (nonatomic) Q count;
@property (nonatomic) Q nextIndex;
@property (nonatomic) BOOL dirty;
@property (nonatomic) I switchIndex;
@property (nonatomic) NRPBDeviceCollectionHistory protobuf;
- (id)addObserverQueue:withBlock:;
- (void)removeObserver:;
- (unsigned long long)nextIndex;
- (id)init;
- (id)initWithProtobuf:;
- (BOOL)isEqualToHistory:;
- (void)_updateHistoryCachesWithIndex:;
- (id)protobuf;
- (id)switchDeviceIDFromDiff:;
- (id)deviceIDAtSwitchIndex:date:;
- (unsigned long long)countByEnumeratingWithState:objects:count:;
- (id)objectAtIndexedSubscript:;
- (void)_truncateHistory;
- (id)initWithCoder:;
- (void)encodeWithCoder:;
- (id)applyDiff:;
- (BOOL)dirty;
- (void).cxx_destruct;
- (void)child:didApplyDiff:;
- (unsigned long long)_findIndexInHistoryStateCache:type:;
- (void)pruneStateCacheItems:;
- (id)description;
- (id)deviceCollection;
- (id)historyEntryAtIndex:;
- (unsigned int)switchIndex;
- (void)notifyHistoryObserversWithEntry:;
- (void)_createIndex;
- (unsigned long long)count;
- (void)invalidate;
- (BOOL)isEqual:;
- (id)_mostRecentStateBefore:;
- (id)copyWithZone:;
+ (BOOL)supportsSecureCoding;
@end

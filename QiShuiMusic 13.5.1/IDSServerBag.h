@interface IDSServerBag : NSObject
@property (nonatomic) IMConnectionMonitor _connectionMonitor;
@property (nonatomic) NSURL bagURL;
@property (nonatomic) NSString apsEnvironmentName;
@property (nonatomic) NSDictionary _bag;
@property (nonatomic) NSDictionary _cachedBag;
@property (nonatomic) NSMutableURLRequest _urlRequest;
@property (nonatomic) NSString _cachedURLString;
@property (nonatomic) NSString _cachedHash;
@property (nonatomic) NSDate _loadDate;
@property (nonatomic) NSNumber _cacheTime;
@property (nonatomic) IDSRemoteURLConnection _remoteURLConnection;
@property (nonatomic) @? remoteURLCreationBlock;
@property (nonatomic) @? connectionMonitorCreationBlock;
@property (nonatomic) NSObject<OS_dispatch_queue> _bagQueue;
@property (nonatomic) NSInteger _trustStatus;
@property (nonatomic) NSData _certData;
@property (nonatomic) BOOL allowSelfSignedCertificates;
@property (nonatomic) BOOL allowUnsignedBags;
@property (nonatomic) NSInteger token;
@property (nonatomic) Q hasPairedDeviceState;
@property (nonatomic) NSData serverSignature;
@property (nonatomic) NSArray serverCerts;
@property (nonatomic) NSData serverGivenBag;
@property (nonatomic) c hashAlgorithm;
@property (nonatomic) NSMutableDictionary overrideValues;
@property (nonatomic) CUTDeferredTaskQueue saveCacheToPrefsTask;
@property (nonatomic) BOOL isLoaded;
@property (nonatomic) BOOL isLoading;
@property (nonatomic) BOOL isInDebilitatedMode;
@property (nonatomic) BOOL requiresIDSHost;
@property (nonatomic) BOOL requiresIDSConnection;
@property (nonatomic) BOOL isServerAvailable;
- (BOOL)isLoading;
- (void)dealloc;
- (int)token;
- (void)_bagExternallyReloaded;
- (id)_bagDefaultsDomain;
- (BOOL)isInDebilitatedMode;
- (void)connectionMonitorDidUpdate:;
- (void)setToken:;
- (void)_invalidate;
- (unsigned long long)_bagDomain;
- (id)objectForKey:;
- (void).cxx_destruct;
- (BOOL)isLoaded;
- (BOOL)requiresIDSConnection;
- (id)_cachedHash;
- (id)_certData;
- (id)_bag;
- (id)_urlRequest;
- (id)_connectionMonitor;
- (id)bagURL;
- (id)_cacheTime;
- (void)_clearCache;
- (void)_loadFromCache;
- (void)__saveCacheToPrefs;
- (void)_saveCacheToPrefs;
- (void)_saveToCache;
- (void)_generateURLRequest;
- (id)_initWithURL:apsEnvironmentName:allowSelfSignedCertificates:allowUnsignedBags:hashAlgorithm:;
- (id)_initWithURL:apsEnvironmentName:allowSelfSignedCertificates:allowUnsignedBags:hashAlgorithm:remoteURLCreationBlock:connectionMonitorCreationBlock:;
- (BOOL)_loadFromDictionary:returningError:;
- (BOOL)_allowInvalid;
- (BOOL)trustRefFromCertificates:canReportFailure:trustRef:;
- (BOOL)_loadFromSignedDictionary:returningError:;
- (void)_processBagResultData:response:;
- (void)_cancelCurrentLoad;
- (void)_startBagLoad:;
- (void)startBagLoad;
- (void)forceBagLoad;
- (BOOL)requiresIDSHost;
- (id)urlWithKey:;
- (void)_clearOverrideValues;
- (void)_setOverrideValue:forKey:;
- (id)_overrideValues;
- (BOOL)_forceAllowBagLoading;
- (BOOL)isServerAvailable;
- (BOOL)_allowedToLoadBag;
- (void)set_connectionMonitor:;
- (void)setBagURL:;
- (id)apsEnvironmentName;
- (void)setApsEnvironmentName:;
- (void)_setBag:;
- (id)_cachedBag;
- (void)_setCachedBag:;
- (void)set_urlRequest:;
- (id)_remoteURLConnection;
- (void)set_remoteURLConnection:;
- (id)_bagQueue;
- (void)set_bagQueue:;
- (id)_cachedURLString;
- (void)_setCachedURLString:;
- (int)_trustStatus;
- (void)_setTrustStatus:;
- (void)set_certData:;
- (void)_setCachedHash:;
- (id)_loadDate;
- (void)set_loadDate:;
- (void)set_cacheTime:;
- (BOOL)allowSelfSignedCertificates;
- (void)setAllowSelfSignedCertificates:;
- (BOOL)allowUnsignedBags;
- (void)setAllowUnsignedBags:;
- (unsigned long long)hasPairedDeviceState;
- (void)setHasPairedDeviceState:;
- (id)serverSignature;
- (void)setServerSignature:;
- (id)serverCerts;
- (void)setServerCerts:;
- (id)serverGivenBag;
- (void)setServerGivenBag:;
- (char)hashAlgorithm;
- (void)setHashAlgorithm:;
- (id)remoteURLCreationBlock;
- (void)setRemoteURLCreationBlock:;
- (id)connectionMonitorCreationBlock;
- (void)setConnectionMonitorCreationBlock:;
- (id)overrideValues;
- (void)setOverrideValues:;
- (id)saveCacheToPrefsTask;
+ (id)_bagCreationLock;
+ (id)sharedInstance;
+ (id)_sharedInstance;
+ (id)defaultBag;
+ (id)_sharedInstanceForClass:;
+ (id)sharedInstanceForBagType:;
@end
